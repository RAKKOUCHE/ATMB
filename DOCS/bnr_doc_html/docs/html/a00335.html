<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BNR API for .NET: Initialisation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BNR API for .NET
   &#160;<span id="projectnumber">2.0.x</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00335.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#prop-members">Properties</a>  </div>
  <div class="headertitle">
<div class="title">Initialisation<div class="ingroups"><a class="el" href="a00333.html">BNR Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Definitions for BNR initialisation.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Initialisation:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00335.jpg" border="0" alt="" usemap="#a00335"/>
<map name="a00335" id="a00335">
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga80f0206be25d2537a2d00a133a28fb98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga80f0206be25d2537a2d00a133a28fb98"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#ga80f0206be25d2537a2d00a133a28fb98">Mei::Bnr::Bnr::Bnr</a> ()</td></tr>
<tr class="memdesc:ga80f0206be25d2537a2d00a133a28fb98"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="a00016.html" title="Bnr class is the main class to access and drive BNR system. ">Bnr</a> class constructor. <br /></td></tr>
<tr class="separator:ga80f0206be25d2537a2d00a133a28fb98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61f0179e170f0d424a45a323d0882fcc"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#ga61f0179e170f0d424a45a323d0882fcc">Mei::Bnr::Bnr::~Bnr</a> ()</td></tr>
<tr class="memdesc:ga61f0179e170f0d424a45a323d0882fcc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="a00016.html" title="Bnr class is the main class to access and drive BNR system. ">Bnr</a> class Destructor.  <a href="#ga61f0179e170f0d424a45a323d0882fcc">More...</a><br /></td></tr>
<tr class="separator:ga61f0179e170f0d424a45a323d0882fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4457ac0a34332d3e7daf059ad89a7f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#gac4457ac0a34332d3e7daf059ad89a7f5">Mei::Bnr::Bnr::Close</a> ()</td></tr>
<tr class="memdesc:gac4457ac0a34332d3e7daf059ad89a7f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the communication with the BNR and terminates the thread that has been started by a previous <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a> call.  <a href="#gac4457ac0a34332d3e7daf059ad89a7f5">More...</a><br /></td></tr>
<tr class="separator:gac4457ac0a34332d3e7daf059ad89a7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd9c7f0fea7e02efde526ffccc1189af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af">Mei::Bnr::Bnr::Open</a> ()</td></tr>
<tr class="memdesc:gadd9c7f0fea7e02efde526ffccc1189af"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function Open starts the thread to monitor the BNR and to communicate with it.  <a href="#gadd9c7f0fea7e02efde526ffccc1189af">More...</a><br /></td></tr>
<tr class="separator:gadd9c7f0fea7e02efde526ffccc1189af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66a129a89b8689ad6e074bb9b1025d96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#ga66a129a89b8689ad6e074bb9b1025d96">Mei::Bnr::Bnr::OpenWithSerialNr</a> (String^ bnrSerialNr)</td></tr>
<tr class="memdesc:ga66a129a89b8689ad6e074bb9b1025d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function of <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a>, provided for convenience.  <a href="#ga66a129a89b8689ad6e074bb9b1025d96">More...</a><br /></td></tr>
<tr class="separator:ga66a129a89b8689ad6e074bb9b1025d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dd33b3c96123886f1392341f6e9a1bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#ga2dd33b3c96123886f1392341f6e9a1bb">Mei::Bnr::Bnr::Reboot</a> ()</td></tr>
<tr class="memdesc:ga2dd33b3c96123886f1392341f6e9a1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboots the BNR.  <a href="#ga2dd33b3c96123886f1392341f6e9a1bb">More...</a><br /></td></tr>
<tr class="separator:ga2dd33b3c96123886f1392341f6e9a1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab82c292c5d3bc0ea74542b89310ee8a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#gab82c292c5d3bc0ea74542b89310ee8a8">Mei::Bnr::Bnr::Reset</a> ()</td></tr>
<tr class="memdesc:gab82c292c5d3bc0ea74542b89310ee8a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to put the BNR into a defined operational state.  <a href="#gab82c292c5d3bc0ea74542b89310ee8a8">More...</a><br /></td></tr>
<tr class="separator:gab82c292c5d3bc0ea74542b89310ee8a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="prop-members"></a>
Properties</h2></td></tr>
<tr class="memitem:ga67be576defcf8fe943a3a43a9d2709d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00020.html">Mei::Bnr::BnrSerialNrList</a>^ &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00335.html#ga67be576defcf8fe943a3a43a9d2709d8">Mei::Bnr::Bnr::BnrSerialNrList</a><code> [get]</code></td></tr>
<tr class="memdesc:ga67be576defcf8fe943a3a43a9d2709d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of serial number for all connected BNR.  <a href="#ga67be576defcf8fe943a3a43a9d2709d8">More...</a><br /></td></tr>
<tr class="separator:ga67be576defcf8fe943a3a43a9d2709d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Definitions for BNR initialisation. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga61f0179e170f0d424a45a323d0882fcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Mei::Bnr::Bnr::~Bnr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="a00016.html" title="Bnr class is the main class to access and drive BNR system. ">Bnr</a> class Destructor. </p>
<p>It will close the connection by calling <a class="el" href="a00335.html#gac4457ac0a34332d3e7daf059ad89a7f5" title="Ends the communication with the BNR and terminates the thread that has been started by a previous Bnr...">Bnr::Close()</a> </p>

</div>
</div>
<a class="anchor" id="gac4457ac0a34332d3e7daf059ad89a7f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mei::Bnr::Bnr::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends the communication with the BNR and terminates the thread that has been started by a previous <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a> call. </p>
<dl class="section return"><dt>Returns</dt><dd>If function call is successful returns nothing.</dd></dl>
<dl class="section user"><dt>Exception: </dt><dd><ul>
<li>NotOpened - <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a> was not previously called with success.</li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>Other error code might be used in the future without notice.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00355.html#ga707c6b00064fc5acda2652922bebc73a" title="Values that represent BnrXfsErrorCode. ">BnrXfsErrorCode</a>, <a class="el" href="a00355.html#ga728f9da850009297affc528c0f6feb97" title="Values that represent BnrApiErrorCode. ">BnrApiErrorCode</a>, <a class="el" href="a00355.html#gabf91ee16a648da0170232fa2cc9ca1a1" title="Values that represent BnrUsbErrorCode. ">BnrUsbErrorCode</a> for more exception details. </dd></dl>

</div>
</div>
<a class="anchor" id="gadd9c7f0fea7e02efde526ffccc1189af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mei::Bnr::Bnr::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function Open starts the thread to monitor the BNR and to communicate with it. </p>
<p>To use the BNR, it must be open and detected by the application. The first step is to start the thread with the <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a> function. A running thread is needed to permit the handling of messages from the BNR. During the starting of the thread, the application proceeds to a getBnrDevice function to find the BNR. If a BNR is connected, the application indicates that it found it and opens it. Else, the BNR indicates that there is no BNR connected.</p>
<dl class="section return"><dt>Returns</dt><dd>nothing if function call is successful.</dd></dl>
<dl class="section user"><dt>Exception : </dt><dd><ul>
<li>NoSuchDevice - No BNR has been detected.</li>
<li>Other <a class="el" href="a00355.html#gabf91ee16a648da0170232fa2cc9ca1a1" title="Values that represent BnrUsbErrorCode. ">BnrUsbErrorCode</a> - USB communication error, refer to <a class="el" href="a00010.html#how_to_recover_from_usb_error">How to recover from USB communication error</a> chapter.</li>
</ul>
Other error codes might be used in the future without notice. </dd></dl>

</div>
</div>
<a class="anchor" id="ga66a129a89b8689ad6e074bb9b1025d96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mei::Bnr::Bnr::OpenWithSerialNr </td>
          <td>(</td>
          <td class="paramtype">String^&#160;</td>
          <td class="paramname"><em>bnrSerialNr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an overloaded member function of <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a>, provided for convenience. </p>
<p>It differs from the above function only in what arguments it accepts.</p>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="a00335.html#gadd9c7f0fea7e02efde526ffccc1189af" title="The function Open starts the thread to monitor the BNR and to communicate with it. ">Bnr::Open()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bnrSerialNr</td><td><a class="el" href="a00016.html" title="Bnr class is the main class to access and drive BNR system. ">Bnr</a> serial Number.</td></tr>
  </table>
  </dd>
</dl>
<p>Example </p><div class="fragment"><div class="line"><a class="code" href="a00335.html#ga80f0206be25d2537a2d00a133a28fb98">Bnr</a> bnr = <span class="keyword">new</span> <a class="code" href="a00335.html#ga80f0206be25d2537a2d00a133a28fb98">Bnr</a>();</div>
<div class="line"><a class="code" href="a00335.html#ga67be576defcf8fe943a3a43a9d2709d8">BnrSerialNrList</a> serials = bnr.BnrSerialNrList;<span class="comment">//get serial nr list</span></div>
<div class="line"><span class="keywordflow">if</span> (serials.Items.Length == 0) {</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}<span class="comment">//if</span></div>
<div class="line">bnr.OpenWithSerialNr(serials.Items[0].ToString());</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga2dd33b3c96123886f1392341f6e9a1bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mei::Bnr::Bnr::Reboot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reboots the BNR. </p>
<p>This call puts the BNR in the same state as a power cycle (power off/on).</p>
<dl class="section return"><dt>Returns</dt><dd>nothing if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="gab82c292c5d3bc0ea74542b89310ee8a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Mei::Bnr::Bnr::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method is used to put the BNR into a defined operational state. </p>
<dl class="section return"><dt>Returns</dt><dd>If function call is successful return identification Id.</dd></dl>
<dl class="section user"><dt>Exception :</dt><dd><ul>
<li>Illegal - Another asynchronous command is already running.</li>
<li>CashInActive - A transaction started with <a class="el" href="a00336.html#gae856d0ef126d131b64448446ef05917a" title="This command is used to start the cash in transaction with the BNR. ">Bnr::CashInStart()</a> is already in progress. The transaction must be ended with <a class="el" href="a00336.html#ga98f3d4f2d67ea238544f895c38ab990b" title="This command is used to end the cash in transaction. ">Bnr::CashInEnd()</a> before calling <a class="el" href="a00335.html#gab82c292c5d3bc0ea74542b89310ee8a8" title="This method is used to put the BNR into a defined operational state. ">Bnr::Reset()</a>.</li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>Other error codes might be used in the future without notice.</dd></dl>
<dl class="section user"><dt>StatusEvent event:</dt><dd>status field can take the following values :<ul>
<li>DeviceStatusChanged - Sent if the device status has changed during the operation. The data field contains the new device status code (DevieStatus).</li>
<li>CashUnitChanged - Notify that one or more cash units may have changed during the operation.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>OperationCompleted event:</dt><dd>result field can take the following values :<ul>
<li>Successful - The command has been executed successfully (the BNR is not necessarily operational).</li>
<li>CashDeviceError- An unexpected error occured during operation, or a bill jam occured while performing the test of the loader, or a bill was detected in the transport system in the first phase of the sequence.</li>
<li>Canceled<ul>
<li>The command has been interrupted because:<ul>
<li>The Cash Modules Lock or a cover has been opened.</li>
<li>Communication with the Spine module has been lost.</li>
<li>Communication with the Smart Cashbox module has been lost.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>Illegal - The Cash Modules Lock or a cover was open when <a class="el" href="a00335.html#gab82c292c5d3bc0ea74542b89310ee8a8" title="This method is used to put the BNR into a defined operational state. ">Bnr::Reset()</a> has been initiated. </li>
</ul>
</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="a00358.html#_deprecated000012">Deprecated:</a></b></dt><dd><ul>
<li>HardwareError - One of the electro-mechanical elements encountered an error during bill move - No more used since FW v1.3.0, use CashDeviceError instead.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00355.html#ga707c6b00064fc5acda2652922bebc73a" title="Values that represent BnrXfsErrorCode. ">BnrXfsErrorCode</a>, <a class="el" href="a00355.html#ga728f9da850009297affc528c0f6feb97" title="Values that represent BnrApiErrorCode. ">BnrApiErrorCode</a>, <a class="el" href="a00355.html#gabf91ee16a648da0170232fa2cc9ca1a1" title="Values that represent BnrUsbErrorCode. ">BnrUsbErrorCode</a> for more exception details. </dd></dl>

</div>
</div>
<h2 class="groupheader">Properties</h2>
<a class="anchor" id="ga67be576defcf8fe943a3a43a9d2709d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mei:: Bnr:: BnrSerialNrList^ Mei::Bnr::Bnr::BnrSerialNrList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of serial number for all connected BNR. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00335.html#ga66a129a89b8689ad6e074bb9b1025d96" title="This is an overloaded member function of Bnr::Open(), provided for convenience. ">OpenWithSerialNr</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      The information contained here-in is the property of MEI and is not to be disclosed 
      or used without the prior written permission of MEI. This copyright extends to all media in 
      which this information may be preserved including magnetic storage, computer print-out or 
      visual display.
    </li>
    <li class="footer" style="float:right; position: relative; top:-10px;">Generated on Tue Jul 3 2018 for BNR API for .NET by&nbsp;
      <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.10</li>
  </ul>
</div>
</body>
</html>
